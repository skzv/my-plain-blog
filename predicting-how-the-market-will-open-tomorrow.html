<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1" /> <meta property="og:image" content="https://blog.skz.dev/assets/img/predicting-market-open/preview.png"> <meta name="twitter:image" content="https://blog.skz.dev/assets/img/predicting-market-open/preview.png"> <meta name="author" content="Sasha Kuznetsov"> <title>Predicting How the Market Will Open Tomorrow ¬∑ Sasha Kuznetsov's Blog</title> <meta property="og:title" content="Predicting How the Market Will Open Tomorrow ¬∑ Sasha Kuznetsov's Blog"> <meta name="twitter:title" content="Predicting How the Market Will Open Tomorrow ¬∑ Sasha Kuznetsov's Blog"> <meta name="description" content="Predicting the Future"> <meta property="og:description" content="Predicting the Future"> <meta name="twitter:description" content="Predicting the Future"> <link rel="icon" href="https://blog.skz.dev/assets/img/favicon.png"> <link rel="apple-touch-icon" href="https://blog.skz.dev/assets/img/favicon.png"> <link rel="stylesheet" href="https://blog.skz.dev/assets/css/core.css"> <link rel="canonical" href="https://blog.skz.dev/predicting-how-the-market-will-open-tomorrow"> <link rel="alternate" type="application/atom+xml" title="Sasha Kuznetsov's Blog" href="https://blog.skz.dev/feed.xml" /> <script src="/assets/js/load-mathjax.js" async></script> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:creator" content="@skzv"> </head> <body> <aside class="logo"> <a href="https://blog.skz.dev/" aria-label="My avatar"> <img src="https://avatars.githubusercontent.com/u/11140296?v=4" alt="Me!" class="logo-avatar"> </a> <span class="logo-prompt code">Back to Index</span> </aside> <div id="content"> <article> <div class="center"> <h1 class="title">Predicting How the Market Will Open Tomorrow</h1> <time class="code">March 23, 2025</time> </div> <div class="divider"></div> <h4 id="predicting-the-future"><em>Predicting the Future</em></h4> <p>One weekend there was bad economic news, and I was wondering how it would impact the market at open on Monday. I looked into this question, and I learned that while the stock market is closed, futures trading of underlying indices continues, and we can look to the futures market to understand how traders are already reacting to and pricing in new information - like a crystal ball üîÆ.</p> <p>As future prices and current prices are related, we can calculate what the futures markets are pricing as the current fair value of each index by discounting the future value backwards in time. This gives us the implied opening price of each index even before the market opens - so on Sunday night we can see whether the market will likely open <span style="color: #66ff66;">higher</span> or <span style="color: #ff6666;">lower</span> the next day.</p> <p>Below, I walk through all the pieces of this calculation, culminating in a dashboard I built that gives us a sneak preview of the the next day‚Äôs opening movements at <a href="https://impliedopen.com">impliedopen.com</a>.</p> <p><img src="/assets/img/predicting-market-open/save-game.png" alt="A preview of the dashboard I built which gives us a sneak peek of market movements the next day." /></p> <p class="caption"> A preview of the dashboard I built which gives us a sneak peek of market movements the next day. </p> <h1 id="futures">Futures</h1> <p>Futures (future contracts) are instruments that allow traders to bet on the <em>future</em> price of an underlying asset at the future contract‚Äôs date of expiry. Note the price and expiry date of the SP500 future below. It‚Äôs currently trading higher than the SP500 price, but what does this tell us about what the current value of the SP500 is?</p> <p>To relate the futures‚Äô price to the current fair value being priced by the futures market, we have to account for the time between now and the future expiry date.</p> <p><img src="/assets/img/predicting-market-open/futures-price.png" alt="SP500 Future Contract" /></p> <p class="caption"> SP500 Future Contract </p> <p>We do this by using the cost of carry model, which takes into account the risk-free interest rate, the dividend yield, and the time to maturity. It assumes that the price of the index should grow at the current risk-free rate (essentialy a no arbitrage assumption) minus decreases in price due to divedends being paid out.</p> <p>We can express this relationship as:</p> <div style="width: 100%; overflow-x: auto;"> $$ \begin{align} F = S \times e^{(r - q) \times t} \tag{0} \label{eq:coc} \end{align} $$ </div> <p>where \(F\) is the futures price, \(S\) is the current stock price, \(r\) is the risk-free interest rate, \(q\) is the dividend yield, and \(t\) is the time to maturity.</p> <h1 id="going-back-in-time">Going Back in Time</h1> <p>To calculate the current fair value of the stock price from the futures price, we can discount the futures price backwards in time, inverting the above formula:</p> <div style="width: 100%; overflow-x: auto;"> $$ \begin{align} S = F \times e^{-(r - q) \times t} \tag{1} \label{eq:discount} \end{align} $$ </div> <p>Before the market opens, the fair value is our best estimate of the opening price of the index.</p> <h1 id="risk-free-rate">Risk Free Rate</h1> <p>Does a risk-free investment even exist? Well, treasury bills - debt issued by the US treasury - are considered (nearly) riskless because:</p> <ul> <li>US government has a low chance of default; it can print its own money has a good history of paying debts</li> <li>short maturity reduces exposure to interest rate changes and long-term uncertainties</li> <li>very liquid market</li> <li>no credit risk as the US government won‚Äôt go bankrupt like in the case of corporate or municipal bonds</li> </ul> <p>For the risk-free rate in these calculations, I choose the 3 month T-bill.</p> <p><img src="/assets/img/predicting-market-open/3m-bond-yield-1.png" alt="3 Month US Treasury Yield" /></p> <p class="caption"> 3 Month US Treasury Yield </p> <p>We assume that the underlying assets will grow at atleast the risk-free rate, because otherwise investors wouldn‚Äôt bother putting their money in these instruments.</p> <h1 id="dividend-yield">Dividend Yield</h1> <p>While we assume that the underlying instruments will grow at atleast the risk-free rate, we have to account for the fact that the underlying indices will drop when dividends are paid out by a commensurate amount. To do this, I am using the most recent dividend yield of each index - but a more accurate model will probably anticipate what the forward looking dividend yield will be.</p> <p>Below is the latest SP500 dividend yield which I use for my calculations.</p> <p><img src="/assets/img/predicting-market-open/sp500-dividend-yield.png" alt="Latest SP500 Yield" /></p> <p class="caption"> Latest SP500 Dividend Yield </p> <h1 id="putting-it-all-together">Putting it All Together</h1> <p>I collect the last index price, the current trading futures price, my best estimate of the dividend yield, risk-free rate, and time to expiry, and calculate my current best estimate of the fair value of each major index. I‚Äôve put all the pieces together on <a href="https://impliedopen.com">impliedopen.com</a>, which I‚Äôve embedded below:</p> <iframe src="https://impliedopen.com" width="100%" height="1200px"></iframe> <p>This dashboard is most useful when the futures market is open but the regular market is closed - so we can use the futures market to understand what traders are pricing in before the regular market open. When the regular market is open, it provides the ‚Äútrue‚Äù current value of each index - as priced by the market.</p> <p><img src="/assets/img/predicting-market-open/market-status.png" alt="Market Status View" /></p> <p class="caption"> Market Status View </p> <h1 id="final-notes">Final Notes</h1> <p>I put this dashboard together pretty quickly, and ended up just scraping a lot of the values which I cache once a minute on my own API :) My apologies if things break or it goes down - at some point I will replace things with proper APIs, or this dashboard will become irrelevant as markets move towards 24/7 trading. In any case, I wanted to put together this blog post for permenance.</p> <p><img src="/assets/img/predicting-market-open/it-is-what-it-is.png" alt="It is what it is." /></p> <p class="caption"> It is what it is. </p> <p>If you notice errors in my calculations or have suggestions or other feedback, please reach out to me and let me know!</p> <script src="https://cdn.plot.ly/plotly-2.4.2.min.js"></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.5.1/math.js" integrity="sha512-AfRcJIj922x/jSJpQLnry0DYIBg6EGCtwk/MiQ6QvDlzb7kNFxH8EdqXLkaXXY3YHQS9FrSb8H7LzuLn0CZQ1A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> </article> <div class="page-navigation code"> <a class="next" href="https://blog.skz.dev/3d-reconstruction-from-public-photos" title="NEXT: 3D Reconstruction From Public Photos with Machine Learning">&lt;&lt;</a> <span> &middot; </span> <a class="home" href="https://blog.skz.dev/" title="Back to Index">Index</a> <span> &middot; </span> <a class="prev" href="https://blog.skz.dev/telegram-stickerly-import-bot" title="PREV: A Telegram Bot for Importing Sticker.ly Packs">&gt;&gt;</a> </div> </div> <div class="footer"> <span class="block">&copy; 2025 Sasha Kuznetsov</span> <!-- <span class="block"><small>&lt;/&gt; Powered by <a href="https://jekyllrb.com/">Jekyll</a> and <a href="https://github.com/heiswayi/the-plain">The Plain theme</a>.</small></span> --> </div> <script async defer src="https://api.skz.dev/latest.js"></script> <noscript><img src="https://api.skz.dev/noscript.gif" alt="" referrerpolicy="no-referrer-when-downgrade" /></noscript> <!-- <script async defer data-domain="blog.skz.dev" src="https://a-api.skz.dev/js/index.js"></script> --> </body> </html>
