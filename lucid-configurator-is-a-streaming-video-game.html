<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1" /> <meta property="og:image" content="https://blog.skz.dev/assets/img/lucid-configurator-is-a-streaming-video-game/lucid-configurator.png"> <meta name="twitter:image" content="https://blog.skz.dev/assets/img/lucid-configurator-is-a-streaming-video-game/lucid-configurator.png"> <meta name="author" content="Sasha Kuznetsov"> <title>The Lucid Motors Configurator is A Video Game Streaming to Your Browser · Sasha Kuznetsov's Blog</title> <meta property="og:title" content="The Lucid Motors Configurator is A Video Game Streaming to Your Browser · Sasha Kuznetsov's Blog"> <meta name="twitter:title" content="The Lucid Motors Configurator is A Video Game Streaming to Your Browser · Sasha Kuznetsov's Blog"> <meta name="description" content=" It makes sense when you realize video game engines are the best simulators out there."> <meta property="og:description" content=" It makes sense when you realize video game engines are the best simulators out there."> <meta name="twitter:description" content=" It makes sense when you realize video game engines are the best simulators out there."> <link rel="icon" href="https://blog.skz.dev/assets/img/favicon.png"> <link rel="apple-touch-icon" href="https://blog.skz.dev/assets/img/favicon.png"> <link rel="stylesheet" href="https://blog.skz.dev/assets/css/core.css"> <link rel="canonical" href="https://blog.skz.dev/lucid-configurator-is-a-streaming-video-game"> <link rel="alternate" type="application/atom+xml" title="Sasha Kuznetsov's Blog" href="https://blog.skz.dev/feed.xml" /> <script src="/assets/js/load-mathjax.js" async></script> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:creator" content="@skzv"> </head> <body> <aside class="logo"> <a href="https://blog.skz.dev/" aria-label="My avatar"> <img src="https://avatars.githubusercontent.com/u/11140296?v=4" alt="Me!" class="logo-avatar"> </a> <span class="logo-prompt code">Back to Index</span> </aside> <div id="content"> <article> <div class="center"> <h1 class="title">The Lucid Motors Configurator is A Video Game Streaming to Your Browser</h1> <time class="code">July 28, 2021</time> </div> <div class="divider"></div> <p class="description"> It makes sense when you realize video game engines are the best simulators out there. </p> <h2 id="a-clever-solution">A Clever Solution</h2> <p><a href="https://www.barrons.com/articles/lucid-churchill-merger-ipo-ev-51627308359">Lucid Motors went public on Monday</a>, and although I am not going to be buying a Lucid anytime soon, I found myself looking at <a href="https://www.lucidmotors.com/air/configure/">their vehicle configurator</a> out of curiosity. It is a piece of art. It allows you to observe and interact with the vehicle from almost every direction, inside and out:</p> <div style="width:100%;height:100%;position:relative;padding-bottom:52.344%;"><iframe src="https://streamable.com/e/cudr66" frameborder="0" width="100%" height="100%" allowfullscreen="" style="width:100%;height:100%;position:absolute;left:0px;top:0px;overflow:hidden;"></iframe></div> <p class="caption video-caption">Lucid's configurator for their flagship elite vehicle, the Lucid Air Dream.</p> <p>You can simulate various colours and trims, open and close the doors, and even retract the center console display. The backdrop of the Golden Gate bridge reflects off the glassy puddles. The configurator preserves all sorts of details of the vehicle, including lights under the door handles that activate when you are using them. I feel like I got an accurate enough feel for the vehicle, I don’t even have to see it in person anymore.</p> <p>So how did Lucid manage to pull this off? Can you expect the average user’s web browser to render a scene like this in real-time, reflections and all? The answer is probably not. It works because the scene you are seeing is rendered with Unity, a video game engine, running in the cloud - offloading the intense computational load to an Amazon server - and streamed back to your browser via WebRTC - a peer-to-peer video streaming protocol.</p> <div class="divider"></div> <h2 id="the-model">The Model</h2> <p>Initially, I naively assumed that the model was being rendered in my browser via the latest <a href="https://en.wikipedia.org/wiki/WebGL">WebGL library</a> (an API for rendering 2D and 3D graphics in web browsers with hardware acceleration). And since the model must have been rendered locally, it had to exist in my RAM somewhere, so I could extract it and load it up in a 3D model editor. Specifically, I wanted to see if I could remove the sun visors interrupting the almost seamless glass canopy - an effect achieved by Tesla’s Model X, I’m not sure why Lucid didn’t follow.</p> <p><img src="/assets/img/lucid-configurator-is-a-streaming-video-game/lucid-air-sun-visors.png" alt="Lucid Air sun visors interrupting the glass canopy" /></p> <p class="caption"> Lucid Air sun visors interrupting the glass canopy. </p> <p>So I dove into the code. After some time with the browser debug tools, skimming thousands of lines of minified Javascript, recording and examining the network requests between my laptop and Lucid’s servers, I realized the answer was quite literally just being printed in the console the whole time:</p> <p><img src="/assets/img/lucid-configurator-is-a-streaming-video-game/zlbolt-webrtc.png" alt="The Configurator is a Video Stream" /></p> <p class="caption"> The Configurator is a webRTC stream. </p> <p>There’s no local model being rendered. What I’m seeing is a video.</p> <p>So what’s happening here? The configurator initializes with a 2D display - that is, a choppy panorama of images which provide the illusion of a 3D interaction. This is how most online interactive 3D displays are constructed. You can see a demo of that below:</p> <div style="width:100%;height:100%;position:relative;padding-bottom:52.344%;"><iframe src="https://streamable.com/e/ptjitc" frameborder="0" width="100%" height="100%" allowfullscreen="" style="width:100%;height:100%;position:absolute;left:0px;top:0px;overflow:hidden;"></iframe></div> <p class="caption video-caption">A choppy 3D view, created by a series of 2D images.</p> <p>Then, the client tests my bandwidth and latency, and if it’s fast enough to support a realtime video feed, it upgrades the session to 3D:</p> <p><img src="/assets/img/lucid-configurator-is-a-streaming-video-game/latency-test.png" alt="Latency Test" /> <img src="/assets/img/lucid-configurator-is-a-streaming-video-game/bandwidth-test.png" alt="Bandwidth Test" /></p> <p class="caption"> You upgrade to a 3D session if you have the bandwidth. </p> <p>This initiates a webRTC connection. <a href="https://en.wikipedia.org/wiki/WebRTC">WebRTC</a> is a peer-to-peer streaming protocol. The scene is rendered elsewhere, and streamed via webRTC to my browser.</p> <p>Inspecting the contents of their <code class="language-plaintext highlighter-rouge">get_token</code> request reveals some more details about their mechanics.</p> <p><img src="/assets/img/lucid-configurator-is-a-streaming-video-game/get-token-request.png" alt="Contents of the get_token request" /></p> <p class="caption"> Contents of the get_token request. </p> <p>The first box reveals that, to test your bandwidth, they partially download from <a href="https://libzl.zlthunder.net/bandwidth-test-img.png">a 25 MB test image</a> to your device, and time how long that takes. This is the image, if you’re curious (don’t worry, I’ve compressed it down 10x).</p> <p><img src="/assets/img/lucid-configurator-is-a-streaming-video-game/bandwidth-test-image.png" alt="Bandwidth Test Image" /></p> <p class="caption"> Doesn't have much to do with automobiles, but it will test your bandwidth just fine. </p> <p>By the way, <a href="https://www.gimp.org/tutorials/Floating_Logo/Plasma.jpg">this image seems to be an effect produced by the plasma plugin from GIMP</a>. It loads quite slowly; as it resembles noise it must be largely incompressible.</p> <p>Opening up <a href="chrome://webrtc-internals/">chrome://webrtc-internals/</a> reveals some details about the webRTC connection streaming the 3D scene to my browser.</p> <p><img src="/assets/img/lucid-configurator-is-a-streaming-video-game/lucid-webrtc.png" alt="WebRTC Info" /></p> <p class="caption"> Chrome's debug tools provide more information about the webRTC connection. </p> <p>At this point, you may have noticed that none of the URLs here are on a lucid domain, but rather under zlthunder. Who are they?</p> <div class="divider"></div> <h2 id="zerolight">ZeroLight</h2> <p>Searching the web for zlthunder brings you to a company called <a href="https://zerolight.com/">ZeroLight</a>. They indicate that they provide cloud-based 3D visualization, specializing in automotive. It all makes sense now!</p> <p><img src="/assets/img/lucid-configurator-is-a-streaming-video-game/zero-light.png" alt="Zero Light" /></p> <p class="caption"> Cloud based 3D visualization specialists. </p> <p>It wasn’t much longer until I found <a href="https://unity3d.com/showcase/case-stories/zerolight">this blog post from Unity</a> (the prominent video game engine) explaining how ZeroLight leveraged the engine to create a realistic virtual showroom, with optimized physics, reflections, and all.</p> <p><img src="/assets/img/lucid-configurator-is-a-streaming-video-game/unity-zero-light.png" alt="Zero Light" /></p> <p class="caption"> Video games have brought us a long way. </p> <p>Now I put all the pieces together. When I connect to the site, they load a 2D configurator. If my internet connection can handle it, they connect me to an instance of Unity - a 3D video game engine - running on an AWS server. The server receives my mouse inputs, rotating and zooming the field of view, renders the results in the cloud, and streams them back to me.</p> <div class="divider"></div> <h2 id="sounds-expensive">Sounds Expensive</h2> <p>Imagine you have a 1,000 users connected to the site: you need a 1,000 hardware accelerated instances of a video game engine receiving inputs and streaming back large amounts of realtime video- just like the cloud video games products that are Stadia and GeForce Now, among others. But it seems they’re very aware of that: to save on costs, they disconnect you after 60s of inactavity:</p> <p><img src="/assets/img/lucid-configurator-is-a-streaming-video-game/inactivity-downgrade.png" alt="Inactivity downgrade" /></p> <p class="caption"> Downgrading on idle must save a lot of money. </p> <div class="divider"></div> <h2 id="what-is-a-video-game-engine-anyway">What is a Video Game Engine Anyway?</h2> <p>Although it may seem a surprising use of a video game engine at first, a video game engine is really just an optimized simulator. Established game engines like Unity incorporate decades of research into simulating light rays and other physical phenomona. So if you want to simulate reality, even if that reality is a showroom, a video game engine is a perfect, ready-to-use tool, that can be extended to many applications.</p> <p>In hindsight, I probably could have figured out how Lucid’s configurator worked by doing some searching and coming across the article from Unity. But reverse-engineering the configurator provided a closer look inside the challenges, solutions, and mechanics of their product, and I felt like a detective working from the ground up. What I found most amusing, though, was the incredible complexity we have achieved in technology today. A super realistic physics simulator, running on a remote server in an Amazon data center, receiving commands from my computer and streaming back the video feed at the speed of light, so that I can play with a car configurator. And all we needed to get to the moon was a calculator!</p> </article> <div class="page-navigation code"> <a class="next" href="https://blog.skz.dev/gradient-descent" title="NEXT: Interactive Gradient Descent Demo">&lt;&lt;</a> <span> &middot; </span> <a class="home" href="https://blog.skz.dev/" title="Back to Index">Index</a> <span> &middot; </span> <a class="prev" href="https://blog.skz.dev/bringing-colour-and-life-to-black-and-white-photos" title="PREV: Bringing Colour and Life to Black and White Photos">&gt;&gt;</a> </div> </div> <div class="footer"> <span class="block">&copy; 2025 Sasha Kuznetsov</span> <!-- <span class="block"><small>&lt;/&gt; Powered by <a href="https://jekyllrb.com/">Jekyll</a> and <a href="https://github.com/heiswayi/the-plain">The Plain theme</a>.</small></span> --> </div> <script async defer src="https://api.skz.dev/latest.js"></script> <noscript><img src="https://api.skz.dev/noscript.gif" alt="" referrerpolicy="no-referrer-when-downgrade" /></noscript> <!-- <script async defer data-domain="blog.skz.dev" src="https://a-api.skz.dev/js/index.js"></script> --> </body> </html>
